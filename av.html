<!DOCTYPE html>
<html>
    <head>
        <title>Virtual-assembly proof of concept</title>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <link rel="stylesheet" type="text/css" href="av.css" />
        <script type="text/javascript" src="http://code.jquery.com/jquery.min.js"></script>
        <script type="text/javascript" src="http://testldp.openinitiative.com/mystore.js"></script>
        <script type="text/javascript" src="config/config.js"></script>

        <script id="item-template" type="text/x-handlebars-template">
            <a onclick="store.render('#profiledetail', '{{"@id"}}', $('#detail-template').html())">{{name}}: {{description}}</a>
        </script>
        <script id="detail-template" type="text/x-handlebars-template">
            Salut {{object.name}} !
        </script>
        <script id="people-template" type="text/x-handlebars-template">
            People:
            <div id="people">
                    {{#ldpeach object.ldp:contains "div"}}{{> item }}{{/ldpeach}}
            </div>
        </script>

        <script>
            $(function(){
                console.log(config);
                window.store = new MyStore({
                    container: config.containerUrl,
                    context: config.contextUrl,
                    template: $("#people-template").html(),
                    partials: {'item': $("#item-template").html(),'detail': $("#detail-template").html()}
                });
                store.render("#profilebrowser");
            });
        </script>
    </head>
    <body>
        <h1>Welcome on the Virtual-Assembly proof of concept website</h1>

        <p>Here is the list of people present on the AV website</p>
        <p>Please feel free to browse through everything else, by clinking the links</p>
        <div id="profilebrowsercontainer">
            <div id="profiledetail"></div>
            <div id="profilebrowser"></div>
        </div>
    </body>
</html>
